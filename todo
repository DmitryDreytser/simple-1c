todo
	* UnionType
	* перевести все Set-property на MemberAccessor
	* Разрулить следующую ситуацию:
		КонтрагентВася.ГоловнойКонтрагент = КонтрагентВася;
		Save(КонтрагентВася);
	* Научиться мапиться на sql для чтения, как здесь http://www.linq-demo.1csoftware.com делают
	* создавать DispatchObject-ы через Reflection.Emit
	* inmemoryDataContext, LoadNewestRevisionWhenAccessPropertyForTheFirstTime: выяснить, какое поведение дожно быть
	* более интеллектуально генерить ключ для кэширования проекций
	* убрать лишнюю возню с перестроением QueryField, SelectedProperty, SelectedPropertyItem,
	если проекцию из кэша можно достать
   	* объединить логику получения метаданных в генераторе и в MetadataAccessor-е

todo sql
	В order by алиасы резолвить из первого из Union-ов

	НомерДоговора <> """"
		builder.Append("\r\nunion");

	NumberLiteral
		1.22 ?

	binOp
		ToLower

	ColumnReferenceTableNameRewriter
		запоминать филды в список, remove copypaste

	!TOP N

	TableDeclarationExtractor.VisitJoin ??
		copypaste иван советует

	CASE

	DISTINCT
	
	IS NOT NULL

	()

	SUM, AVG

	NOT без скобочек
	
	prettyfication:
		make star (select *) ISQLElement?
		kill SelectPart, make select list of parts, explicitly generate join instead of ПРЕДСТАВЛЕНИЕ for enums?
		kill useless enums for functions/ joins?